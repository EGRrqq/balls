var b=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var o=(i,t,e)=>(b(i,t,"read from private field"),e?e.call(i):t.get(i)),c=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},y=(i,t,e,r)=>(b(i,t,"write to private field"),r?r.call(i,e):t.set(i,e),e);var x=(i,t,e)=>(b(i,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const C of n.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&r(C)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();var u;class O{constructor(t){c(this,u,void 0);y(this,u,t)}clearBoard(){var t;(t=this.ctx)==null||t.clearRect(0,0,this.board.width,this.board.height)}get board(){return o(this,u)}get ctx(){return this.board.getContext("2d")}}u=new WeakMap;var g,l,d,a;class E{constructor(t){c(this,d);c(this,g,void 0);c(this,l,{x:100,y:75,dx:5,dy:2,radius:50});y(this,g,t)}draw(t=o(this,l)){o(this,d,a).beginPath(),o(this,d,a).arc(t.x,t.y,t.radius,0,2*Math.PI),o(this,d,a).fill(),o(this,d,a).closePath()}applyImpulse(t,e){this.settings.dx+=e.x*t,this.settings.dy+=e.y*t}updatePos(){this.settings.x+=this.settings.dx,this.settings.y+=this.settings.dy}getPos(){return{x:this.settings.x,y:this.settings.y}}detectCollision(t){(this.settings.y+this.settings.dy>t.height-this.settings.radius||this.settings.y+this.settings.dy<this.settings.radius)&&(this.settings.dy=-this.settings.dy),(this.settings.x+this.settings.dx>t.width-this.settings.radius||this.settings.x+this.settings.dx<this.settings.radius)&&(this.settings.dx=-this.settings.dx)}dampVelocity(t){this.settings.dx*=t,this.settings.dy*=t}get settings(){return o(this,l)}set settings(t){y(this,l,Object.assign(t))}}g=new WeakMap,l=new WeakMap,d=new WeakSet,a=function(){return o(this,g)};class I{getPos(t,e){const r=t.clientX-e.getBoundingClientRect().left,s=t.clientY-e.getBoundingClientRect().top;return{x:r,y:s}}}var f,P,p,v,m,B;class M{constructor(){c(this,f);c(this,p);c(this,m)}normDirVec(t,e){const r=x(this,f,P).call(this,t,e);return x(this,m,B).call(this,r,x(this,p,v).call(this,r))}}f=new WeakSet,P=function(t,e){const r=t.x-e.x,s=t.y-e.y;return{x:r,y:s}},p=new WeakSet,v=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},m=new WeakSet,B=function(t,e){const r=t.x/e,s=t.y/e;return{x:r,y:s}};const h=document.getElementById("board"),L=new O(h),w=L.ctx;if(w){let i=function(s){L.clearBoard(),r.draw();const n=e.normDirVec(t.getPos(s,h),r.getPos());r.applyImpulse(.7,n),r.updatePos(),r.dampVelocity(.99),r.detectCollision(h),requestAnimationFrame(()=>i(s))};const t=new I,e=new M,r=new E(w);r.draw(),h.addEventListener("click",s=>i(s)),h.addEventListener("mouseover",s=>i(s))}
