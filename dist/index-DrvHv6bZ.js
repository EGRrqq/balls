var v=(i,t,s)=>{if(!t.has(i))throw TypeError("Cannot "+s)};var o=(i,t,s)=>(v(i,t,"read from private field"),s?s.call(i):t.get(i)),d=(i,t,s)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,s)},h=(i,t,s,n)=>(v(i,t,"write to private field"),n?n.call(i,s):t.set(i,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();var y;class b{constructor(t){d(this,y,void 0);h(this,y,t)}clearBoard(){var t;(t=this.ctx)==null||t.clearRect(0,0,this.board.width,this.board.height)}get board(){return o(this,y)}get ctx(){return this.board.getContext("2d")}}y=new WeakMap;var f,c,u,l,g;class P{constructor(t){d(this,l);d(this,f,void 0);d(this,c,!1);d(this,u,{x:200,y:175,vx:0,vy:0,radius:50});h(this,f,t)}onTouch(t,s){t<=this.settings.radius&&!o(this,c)&&(h(this,c,!0),s()),t>this.settings.radius&&o(this,c)&&h(this,c,!1)}draw(t=o(this,u)){o(this,l,g).beginPath(),o(this,l,g).arc(t.x,t.y,t.radius,0,2*Math.PI),o(this,l,g).fill(),o(this,l,g).closePath()}applyImpulse(t,s){this.settings.vx+=s.x*t,this.settings.vy+=s.y*t}updatePos(){this.settings.x+=this.settings.vx,this.settings.y+=this.settings.vy}getPos(){return{x:this.settings.x,y:this.settings.y}}detectCollision(t){(this.settings.y+this.settings.vy>t.height-this.settings.radius||this.settings.y+this.settings.vy<this.settings.radius)&&(this.settings.vy=-this.settings.vy),(this.settings.x+this.settings.vx>t.width-this.settings.radius||this.settings.x+this.settings.vx<this.settings.radius)&&(this.settings.vx=-this.settings.vx)}dampVelocity(t){this.settings.vx*=t,this.settings.vy*=t}get settings(){return o(this,u)}set settings(t){h(this,u,Object.assign(t))}}f=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakSet,g=function(){return o(this,f)};class B{getPos(t,s){const n=t.clientX-s.getBoundingClientRect().left,e=t.clientY-s.getBoundingClientRect().top;return{x:n,y:e}}}class L{distance(t){return Math.sqrt(t.x*t.x+t.y*t.y)}dirVec(t,s){const n=t.x-s.x,e=t.y-s.y;return{x:n,y:e}}normalizeDirVec(t,s){const n=t.x/s,e=t.y/s;return{x:n,y:e}}}const x=document.getElementById("board"),C=new b(x),m=C.ctx;if(m){let i=function(r){const a=n.dirVec(s.getPos(r,x),e.getPos()),p=n.distance(a),w=n.normalizeDirVec(a,p);e.onTouch(p,()=>{e.applyImpulse(-6,w)})},t=function(){C.clearBoard(),e.draw(),e.updatePos(),e.dampVelocity(.99),e.detectCollision(x),requestAnimationFrame(t)};const s=new B,n=new L,e=new P(m);window.addEventListener("load",t,{once:!0}),x.addEventListener("mousemove",r=>i(r))}
